<mvc:View
    controllerName="abapstudents.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns:core="sap.ui.core"
    height="100%">
    <f:DynamicPage id="dynamicPageId"
        stickySubheaderProvider="iconTabBar"
        class="sapUiNoContentPadding">

        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title text="{i18n>dynamicPage.title}" />
                </f:heading>
                <f:expandedContent>
                    <Label text="{i18n>dynamicPage.subtitle}" />
                </f:expandedContent>
                <f:snappedContent>
                    <Label text="{i18n>dynamicPage.subtitle}" />
                </f:snappedContent>
                <f:snappedTitleOnMobile>
                    <Title text="{i18n>dynamicPage.title}" />
                </f:snappedTitleOnMobile>
                <f:actions>

                </f:actions>
            </f:DynamicPageTitle>
        </f:title>

        <!-- DynamicPage Header -->
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <layout:HorizontalLayout allowWrapping="true">
                    <layout:VerticalLayout class="sapUiMediumMarginEnd">
                        <ObjectAttribute title="{i18n>header.name.label}"
                            text="{i18n>header.name.value}" />
                        <HBox>
                            <Link
                                text="{i18n>header.github.link}"
                                href="https://github.com/vincentgielen0/ERP-II-2425-VG"
                                target="_blank"
                                class="sapUiSmallMarginEnd" />
                        </HBox>
                    </layout:VerticalLayout>
                </layout:HorizontalLayout>
            </f:DynamicPageHeader>
        </f:header>

        <!-- DynamicPage Content -->
        <f:content>
            <IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding">
                <items>

                    <!-- Students Tab -->
                    <IconTabFilter text="{i18n>tab.students}" key="students">
                        <Table
                            id="studentsTable"
                            items="{ path: '/StudentSet', sorter: { path: 'Name'} }"
                            inset="false"
                            sticky="HeaderToolbar,ColumnHeaders"
                            class="sapUiSmallNegativeMarginBeginEnd"
                            width="auto">
                            <headerToolbar>
                                <Toolbar>
                                    <Label text="Name" />
                                    <SearchField id="filterName"
                                        liveChange="onFilterChange"
                                        width="10rem" />

                                    <Label text="Gender" />
                                    <Select id="filterGender" change="onFilterChange"
                                        width="8rem">
                                        <items>
                                            <core:Item key="" text="All" />
                                            <core:Item key="M" text="Male" />
                                            <core:Item key="F" text="Female" />
                                            <core:Item key="X" text="Unknown" />
                                        </items>
                                    </Select>

                                    <Label text="Degree" />
                                    <SearchField id="filterDegree"
                                        liveChange="onFilterChange"
                                        width="10rem" />

                                    <Label text="Platform" />
                                    <Select id="filterConsole" change="onFilterChange"
                                        width="10rem">
                                        <items>
                                            <core:Item key="" text="All" />
                                            <core:Item key="PC" text="PC" />
                                            <core:Item key="XBOX" text="Xbox" />
                                            <core:Item key="PLAYSTATION"
                                                text="PlayStation" />
                                            <core:Item key="NINTENDO" text="Nintendo" />
                                            <core:Item key="WII" text="Wii" />
                                        </items>
                                    </Select>

                                    <ToolbarSpacer />
                                    <Button text="{i18n>dynamicPage.actions.add}"
                                        type="Emphasized"
                                        press="onPressCreateNewStudent" />
                                </Toolbar>
                            </headerToolbar>

                            <columns>
                                <!-- <Column width="10%">
                                    <Text text="{i18n>studentsTable.column.id}" />
                                </Column> -->
                                <Column>
                                    <Text text="{i18n>studentsTable.column.name}" />
                                </Column>
                                <Column width="5%">
                                    <Text text="{i18n>studentsTable.column.gender}" />
                                </Column>
                                <Column>
                                    <Text text="{i18n>studentsTable.column.degree}" />
                                </Column>
                                <Column width="15%">
                                    <Text text="{i18n>studentsTable.column.console}" />
                                </Column>
                                <Column width="6%">
                                    <Text text="{i18n>studentsTable.column.actions}" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem press="onPressStudent" type="Navigation">
                                    <cells>
                                        <!-- <Text text="{Studentid}" /> -->
                                        <Text text="{Name}" />
                                        <Text text="{Gender}" />
                                        <Text text="{Degree}" />
                                        <Text text="{Console}" />
                                        <HBox justifyContent="End" alignItems="Center">
                                            <Button icon="sap-icon://edit"
                                                type="Transparent"
                                                tooltip="{i18n>studentsTable.button.edit.tooltip}"
                                                press="onPressEditStudent" />
                                            <Button icon="sap-icon://delete"
                                                type="Transparent"
                                                tooltip="{i18n>studentsTable.button.delete.tooltip}"
                                                press="onPressDeleteStudent" />
                                        </HBox>
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>

                    <!-- Games Tab -->
                    <IconTabFilter text="{i18n>tab.games}" key="games">
                        <Table
                            id="gamesTable"
                            items="{ path: 'cds>/ZAS_113_C_GAMES' }"
                            inset="false"
                            sticky="HeaderToolbar,ColumnHeaders"
                            class="sapUiSmallNegativeMarginBeginEnd"
                            growing="true"
                            growingThreshold="100"
                            width="auto">
                            <headerToolbar>
                                <Toolbar>
                                    <Label text="Title" />
                                    <SearchField id="filterTitle"
                                        liveChange="onGamesFilterChange"
                                        width="10rem" />

                                    <Label text="Genre" />
                                    <Select id="filterGenre" change="onGamesFilterChange"
                                        width="8rem">
                                        <items>
                                            <core:Item key="" text="All" />
                                            <core:Item key="Action" text="Action" />
                                            <core:Item key="Adventure" text="Adventure" />
                                            <core:Item key="Card &amp; Board Game" text="Card &amp; Board Game" />
                                            <core:Item key="Fighting" text="Fighting" />
                                            <core:Item key="Hack and slash/Beat 'em up" text="Hack and slash/Beat 'em up" />
                                            <core:Item key="Music" text="Music" />
                                            <core:Item key="Platform" text="Platform" />
                                            <core:Item key="Point-and-click" text="Point-and-click" />
                                            <core:Item key="Puzzle" text="Puzzle" />
                                            <core:Item key="Quiz/Trivia" text="Quiz/Trivia" />
                                            <core:Item key="Racing" text="Racing" />
                                            <core:Item key="Real Time Strategy (RTS)" text="Real Time Strategy (RTS)" />
                                            <core:Item key="Role-playing (RPG)" text="Role-playing (RPG)" />
                                            <core:Item key="Shooter" text="Shooter" />
                                            <core:Item key="Simulator" text="Simulator" />
                                            <core:Item key="Strategy" text="Strategy" />
                                        </items>
                                    </Select>
                                    <Label text="Publisher" />
                                    <SearchField id="filterPublisher"
                                        liveChange="onGamesFilterChange"
                                        width="10rem" />
                                    <Label text="Platform" />
                                    <Select id="filterPlatform" change="onGamesFilterChange"
                                        width="8rem">
                                        <items>
                                            <core:Item key="" text="All" />
                                            <core:Item key="PC" text="PC" />
                                            <core:Item key="DOS" text="DOS" />
                                            <core:Item key="WII" text="Wii" />
                                            <core:Item key="NINTENDO" text="Nintendo" />
                                            <core:Item key="PLAYSTATION" text="PlayStation" />
                                            <core:Item key="COMMODORE" text="Commodore" />
                                            <core:Item key="IOS" text="iOS" />
                                            <core:Item key="ANDROID" text="Android" />
                                            <core:Item key="GAME BOY" text="Game Boy" />
                                            <core:Item key="XBOX" text="Xbox" />
                                        </items>
                                    </Select>
                                </Toolbar>
                            </headerToolbar>
                            <columns>
                                <Column width="4%">
                                    <Text text="{i18n>gamesTable.column.id}" />
                                </Column>
                                <Column>
                                    <Text text="{i18n>gamesTable.column.title}" />
                                </Column>
                                <Column>
                                    <Text text="{i18n>gamesTable.column.genre}" />
                                </Column>
                                <Column>
                                    <Text text="{i18n>gamesTable.column.publisher}" />
                                </Column>
                                <Column width="8%">
                                    <Text text="{i18n>gamesTable.column.platform}" />
                                </Column>
                                <Column width="8%">
                                    <Text text="{i18n>gamesTable.column.releaseDate}" />
                                </Column>
                                <Column width="8%">
                                    <Text text="{i18n>gamesTable.column.coverPhoto}" />
                                </Column>
                                <Column width="40%">
                                    <Text text="{i18n>gamesTable.column.description}" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{cds>GameID}" />
                                        <Text text="{cds>Name}" />
                                        <Text text="{cds>Genre}" />
                                        <Text text="{cds>Publisher}" />
                                        <Text text="{cds>Platform}" />
                                        <Text
                                            text="{
                                                path: 'cds>ReleaseDate',
                                                type: 'sap.ui.model.type.Date',
                                                formatOptions: { pattern: 'dd-MM-yyyy' }
                                            }" />
                                        <Link text="{i18n>gamesTable.cover.linkText}"
                                            href="{cds>CoverUrl}" target="_blank" />
                                        <TextArea editable="false" value="{cds>Description}"
                                            rows="6"
                                            width="100%" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </f:content>

        <!-- DynamicPage Footer -->
        <!-- <f:footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button type="Accept" text="{i18n>dynamicPage.actions.accept}" />
                <Button type="Reject" text="{i18n>dynamicPage.actions.reject}" />
            </OverflowToolbar>
        </f:footer> -->
    </f:DynamicPage>
</mvc:View>